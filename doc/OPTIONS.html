<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<body bgcolor="#ffffff" text="#000000" link="#000099" vlink="#cc0000" alink="#cc0000">
<HEAD>
 <META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=iso-8859-1">
 <TITLE>Options for running the GISS GCM</TITLE>
</HEAD>
<BODY>
<H1>Options for running the GISS GCM</H1>

<p>There are a number of 'plug and play' options available for ModelE,
and there will be more soon. The essence of this is that by a simple
change of filename in the rundeck, a new model will be compiled and
run, without any further coding necessary. (A good thing!).  Remember
that you must recompile the model and replace the executable for any
change to be effected. (i.e. 'gmake exe RUN=E001xyz')</p>

<p>This is a brief list of the current options:</p>
<ul>
<li> Resolution (horizontal and vertical)

<pre>
RES_M12   ! 4x5 (medium resolution) 12 vertical layers 
RES_M23:  ! 4x5 (medium resolution) 23 vertical layers (incl. stratosphere)
</pre>

<p>Other resolutions can be used as required. Note that these files
also contain some dummy routines that can be replaced by other options
(see below).</p>

<li> Momentum advection scheme:<P>
<pre>
MOMEN2ND  !  2nd order advection scheme (12 layer DT = 450 sec)
MOMEN4TH  !  4th order advection scheme (12 layer DT = 300 sec)
</pre>

<li> Binary output from postprocessing<P>

<pre>
POUT    ! Standard GISS output 
	! ij arrays: TITLE*80,DATA(IM,JM)*R4,ZMEAN(JM)*R4,GLOB*R4
	! jl/jk arrays: TITLE*80,IX,IY,IZ,IT,X(IX,IY,IZ,IT),XCOOR(IX),
        !               YCOOR(IY),ZCORR(IZ),TCORR(IT),CX,CY,CZ,CT,'NASAGISS',
        !               ASUM(IX),GLOB,ZMEAN(IZ)
	! j arrays: (ASCII) aplot format 
POUT_netcdf: Full netcdf format for all fields
</pre>

<p>Other output methods may also be defined.</p>

<li> Ocean model treatment

<p>The ocean treatment is set in a couple of ways. For the basic
(no-dynamics) ocean, there are three options: a) fixed SST, b) Mixed
layer ocean (with fixed ocean heat transports, and c) Mixed layer
ocean with fixed transports and deep diffusion into the next few thousand m).
The fixed SST run is set by using KOCEAN = 0 in the rundeck, while the
Qflux ocean is set by KOCEAN = 1. Whether this gives the simple mixed
layeer ocean or the deep diffusing ocean, depends on the following
'plug and play' options:</p>

<pre>
OCEAN OCNML !  fixed SST ocean or simple Qlfux
OCEAN ODEEP !  fixed SST ocean or deep diffusing Qflux 
</pre>
The fixed SST ocean requires the following files: OSST, SICE, OCNML, MLMAX<br>
The Qflux ocean requires in addition: OHT <br>
The deep diffusion Qflux model also requires: EDDY and TG3M<br>

<p>For dynamic oceans, the only current option is to use  </p>

<pre>
ODIAG_COM OCEAN_COM OSTRAITS_COM OGEOM !
OCNDYN OSTRAITS OCNGM OCNKPP OCNFUNTAB ! - Russell Dynamic Ocean
ICEDYN                                 !
</pre>

<p>In time, other ocean models will also be incorporated.</p>

<li> Atmospheric mixing<P>

<pre>
DRYCNV   ! original scheme. complete mixing of dry statically unstable column.
ATURB    ! turbulence scheme that diffuses tracers as a function of second
         ! order colsure calulations of effective diffusivity.
</pre>

<li> Stratospheric diagnostics<P>

<pre>
STRAT_DIAG  ! calculates full set of zonally averaged EP-fluxes. Must be
            ! used in conjunction with a suitable RES_Xnn file. 
            ! (i.e. one that does not have dummy routines EP*, and sets
            ! KEP to be non-zero).
</pre>

<li> Stratosphere dynamics (Gravity wave drag)<P>

<pre>
STRATDYN  ! Calculates and applies gravity wave drag in the
          ! dynamics. This MUST be used for all strat models, but can
          ! also be used for tropospheric models. Note that a suitable
          ! RES_Xnn file must be used in conjunction. (i.e. One that
          ! does not have a dummy GWDRAG, VDIFF or io_strat).
</pre>

<li> Fast fourier transforms<P>

<pre>
FFT72: Suitable for IM=72 models 
FFT144: Suitable for IM=144 models
</pre>

<li> Tracers <P>

<p>
Tracers are implemented through a combination of 'plug and play' and user 
routines.  Some tracer code is embedded in MAIN, INPUT, CONDSE, MSTCNV, 
LSCOND, DIFFUS, DYNAM, DEF_ACC, DIAGCA, reset_DIAG, and io_rsf through the use 
of pre-processing directives.  To activate the directives, change the 
rundeck line: </p>
<pre>
!#define TRACERS_ON                  ! include tracers code
to 
#define TRACERS_ON                  ! include tracers code
</pre>

Also, 'plug in':
<pre>
TRACER_COM TRACERS       ! trace gasses (depend on individual tracers)
TQUS_DRV                 ! advection of trace gasses
TRACER_PRT               ! tracer diagnostics
</pre>
<p>The plug-in code does not need pre-processing directives since it pertains 
entirely to tracers.
TQUS_DRV and TRACER_PRT were written to be independent of tracer type.
For most users, only TRACER_COM and TRACERS need be changed.  The tracers in
these routines are for illustrative purposes only.  However, the 'Air' tracer
may prove useful as a diagnostic tool since it is designed to mimic the 
movement of air mass.  The user is responsible for checking that tracer 
subroutines are called at the appropriate times in MAIN for his purpose.
Be sure to check that .f files with tracer directives start with
#include "rundeck_opts.h"
Tracers parameters that can be changed in the rundeck: </p>
<pre>
to_volume_MixRat=1: tracer concentration printout in volume mixing ratio
to_volume_MixRat=0: tracer concentration printout in mass mixing ratio
itime_tr0: the model time at which each tracer 'turns on'.</pre>

</ul>
</BODY>
</HTML>
<P><HR><p>

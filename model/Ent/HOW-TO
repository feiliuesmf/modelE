#0 - Default model run is with GISS vegetation types, Friend&Kiang biophysics.
#    See below for compile options for Ent pfts and Farquhar/Ball-Berry biophysics.
#1 - Set up your own run_ent script if necessary to link to off-line driver files.
#2 - Set up your own ent_input if necessary to specify year, day, whether
#to force with your own LAI (force_VEG), 
#resolution (IM,JM only 72x46 currently supported), size of driver files
#(I0f,I1f,J0f,J1f, default 72x46 layers, can also be single column),
#and grid cell within a 72x46 grid to extract (I0,I1,J0,J1) if doing a
#single-column run.

############### OFF-LINE RUNS ########################
#To compile:
gmake clean
gmake depend

#To compile with 8 GISS vegetation types (default), use:
gmake ent

#To compile with 16 ENT pfts, use:
#gmake depend PFT_MODEL=ENT
#gmake ent PFT_MODEL=ENT

#To compile with Farquhar/Ball-Berry biophysics, use:
#gmake depend PS_MODEL=FBB
#gmake ent PS_MODEL=FBB

#TEMPORARY:To allow for prescribing soil C_org pools from an external file for a single site:
#gmake ent EXTRA_FFLAGS=-DSOILCARB_SITE
#Some compilers may need extra flags, e.g. for Absoft:
# make ent PS_MODEL=FBB CPPFLAGS="-DMACHINE_MAC -DCOMPILER_ABSOFT -DSOILCARB_SITE"
#See notes for ent_input.
#...for 2-layer mode use: 
#gmake ent EXTRA_FFLAGS=-DNCASA2 

#To run using site climate forcing files, first run this script (only once) to
# put copies of files in /scrub/entdata:
copy_forcings

#If necessary, edit ent_input for appropriate year, day, grid cells,
# options for force_VEG, do_soilresp, do_phenology, do_patchdynamics
# Defaults without specifying anything are:
#
# &input_parameters
# year = 1980,jday=152, jday2=10,year2=1980,IM=72, JM=46, I0=1, I1=72,J0=1,J1=46
# ,I0f=1,I1f=72,J0f=1,J1f=46, 
# force_VEG=false, do_soilinit=true, do_soilresp=true, do_phenology=false
#, do_patchdynamics=false, do_spinup=false
# /


#Then fix DATADIR in this file to be /scrub/entdata, and 
# - run this script to run ent for GISS 8 vegetation types (specifies global veg cover file):
./run_ent
# - or run this script to run ent for Ent 16 PFTs (specifies global veg cover file):
./run_ent_16pft
# - or if running your own vegetation forcings, then edit run_ent veg datafiles.

############## GCM COUPLED RUNS ######################

cvs checkout modelE
cd modelE/model
cvs checkout Ent

#Look at the rundeck E1M20dv.R (several rundecks are in the model directory)

cd decks
gmake rundeck RUN=E001runname RUNSRC=E1M20dv
gmake setup RUN=E001runname USE_ENT=YES

#Then run the appropriate run script on the given computer (find from Reto).



